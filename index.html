<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุจูุงุจุฉ ุงููุจูู ุงูุฐููุฉ - ุฌุงูุนุฉ ุญูุฑ ุงูุจุงุทู</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root {
            --forest-green: #006837;
            --gold: #D4AF37;
            --light-gray: #f5f5f5;
        }
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
        }
        
        .step {
            display: none;
        }
        
        .step.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--forest-green);
            transition: width 0.5s ease-in-out;
        }
        
        .specialty-card {
            transition: all 0.3s ease;
            border: 2px solid #e5e7eb;
        }
        
        .specialty-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .specialty-card.selected {
            border-color: var(--forest-green);
            background-color: rgba(0, 104, 55, 0.05);
        }
        
        .fee-sidebar {
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.05);
        }
        
        .glow-border {
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }
        
        .required-field::after {
            content: " *";
            color: red;
        }
        
        .university-header {
            background: linear-gradient(135deg, var(--forest-green) 0%, #004d27 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .university-header::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23D4AF37' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
        }
        
        @media (max-width: 768px) {
            .fee-sidebar {
                position: static;
                width: 100%;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Header -->
    <header class="university-header py-6 px-4">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center relative z-10">
            <div class="text-center md:text-right mb-4 md:mb-0">
                <h1 class="text-2xl md:text-3xl font-bold mb-2">ุฌุงูุนุฉ ุญูุฑ ุงูุจุงุทู</h1>
                <h2 class="text-xl md:text-2xl font-semibold text-yellow-100">ุจูุงุจุฉ ุงููุจูู ุงูุฐููุฉ - ุฅุตุฏุงุฑ 2025</h2>
            </div>
            <div class="text-center md:text-left">
                <p class="text-lg text-yellow-100">ูุธุงู ูุญุงูุงุฉ ุงููุจูู ุงููุชูุฏู</p>
                <p class="text-sm text-gray-200 mt-1">ุงุจุฏุฃ ุฑุญูุชู ุงูุฃูุงุฏูููุฉ ูุนูุง</p>
            </div>
        </div>
    </header>

    <main class="container mx-auto py-6 px-4">
        <!-- Progress Steps -->
        <div class="mb-10">
            <div class="flex justify-between items-center mb-4">
                <div class="text-center w-1/4">
                    <div class="w-10 h-10 mx-auto rounded-full flex items-center justify-center mb-2 bg-green-700 text-white font-bold">ูก</div>
                    <p class="text-sm font-medium">ุชุญุฏูุฏ ุงููุณุงุฑ</p>
                </div>
                <div class="text-center w-1/4">
                    <div class="w-10 h-10 mx-auto rounded-full flex items-center justify-center mb-2 bg-gray-300 text-gray-700 font-bold">ูข</div>
                    <p class="text-sm font-medium text-gray-500">ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ</p>
                </div>
                <div class="text-center w-1/4">
                    <div class="w-10 h-10 mx-auto rounded-full flex items-center justify-center mb-2 bg-gray-300 text-gray-700 font-bold">ูฃ</div>
                    <p class="text-sm font-medium text-gray-500">ุงุฎุชูุงุฑ ุงูุชุฎุตุต</p>
                </div>
                <div class="text-center w-1/4">
                    <div class="w-10 h-10 mx-auto rounded-full flex items-center justify-center mb-2 bg-gray-300 text-gray-700 font-bold">ูค</div>
                    <p class="text-sm font-medium text-gray-500">ูุฑุงุฌุนุฉ ูุฅุฑุณุงู</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 25%"></div>
            </div>
        </div>

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Main Form Content -->
            <div class="lg:w-2/3">
                <!-- Step 1: ุชุญุฏูุฏ ุงููุณุงุฑ -->
                <div id="step1" class="step active">
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-6 glow-border">
                        <h3 class="text-xl font-bold text-green-800 mb-4 pb-2 border-b border-yellow-200">ุงููุฑุญูุฉ ุงูุฃููู: ุชุญุฏูุฏ ูุณุงุฑ ุงููุจูู</h3>
                        <p class="text-gray-600 mb-6">ุงุฎุชุฑ ููุน ุงููุจูู ุงูููุงุณุจ ูู ูู ุงูุฎูุงุฑุงุช ุงูุชุงููุฉ:</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="specialty-card p-5 rounded-lg cursor-pointer text-center" data-type="new">
                                <div class="text-4xl mb-3">๐</div>
                                <h4 class="font-bold text-lg mb-2">ุทุงูุจ ุฌุฏูุฏ (ุจูุงููุฑููุณ)</h4>
                                <p class="text-gray-600 text-sm">ูุทูุงุจ ุงูุซุงูููุฉ ุงูุนุงูุฉ ุฃู ุงูููุงุธุฑ ููุง</p>
                                <div class="mt-4">
                                    <span class="inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">ูุณุงุฑ ุฃุณุงุณู</span>
                                </div>
                            </div>
                            
                            <div class="specialty-card p-5 rounded-lg cursor-pointer text-center" data-type="bridging">
                                <div class="text-4xl mb-3">๐</div>
                                <h4 class="font-bold text-lg mb-2">ุชุฌุณูุฑ (ุฏุจููู ุฅูู ุจูุงููุฑููุณ)</h4>
                                <p class="text-gray-600 text-sm">ูุญููุฉ ุงูุฏุจููู ุงูุฑุงุบุจูู ูู ุฅููุงู ุงูุจูุงููุฑููุณ</p>
                                <div class="mt-4">
                                    <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">ูุณุงุฑ ุชููููู</span>
                                </div>
                            </div>
                            
                            <div class="specialty-card p-5 rounded-lg cursor-pointer text-center" data-type="postgraduate">
                                <div class="text-4xl mb-3">๐</div>
                                <h4 class="font-bold text-lg mb-2">ุฏุฑุงุณุงุช ุนููุง</h4>
                                <p class="text-gray-600 text-sm">ูุญููุฉ ุงูุจูุงููุฑููุณ ุงูุฑุงุบุจูู ูู ุงููุงุฌุณุชูุฑ ุฃู ุงูุฏูุชูุฑุงู</p>
                                <div class="mt-4">
                                    <span class="inline-block px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">ูุณุงุฑ ูุชูุฏู</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bridging Additional Fields (Hidden by Default) -->
                        <div id="bridgingFields" class="mt-6 p-4 border border-gray-300 rounded-lg hidden">
                            <h4 class="font-bold text-green-800 mb-3">ูุนูููุงุช ุฅุถุงููุฉ ููุณุงุฑ ุงูุชุฌุณูุฑ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุชุฎุตุต ุงูุฏุจููู</label>
                                    <select id="diplomaMajor" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                        <option value="">ุงุฎุชุฑ ุชุฎุตุต ุงูุฏุจููู</option>
                                        <option value="it">ุชูููุฉ ุงููุนูููุงุช</option>
                                        <option value="business">ุฅุฏุงุฑุฉ ุงูุฃุนูุงู</option>
                                        <option value="engineering">ููุฏุณุฉ</option>
                                        <option value="health">ุนููู ุตุญูุฉ</option>
                                        <option value="education">ุชุฑุจูุฉ ูุชุนููู</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุฑูุน ุดูุงุฏุฉ ุงูุฏุจููู</label>
                                    <input type="file" id="diplomaCertificate" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" accept=".pdf,.jpg,.png">
                                    <p class="text-xs text-gray-500 mt-1">ูุฌุจ ุฃู ูููู ุงูููู ุจุตูุบุฉ PDF, JPG ุฃู PNG</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 text-left">
                            <button id="nextToStep2" class="px-8 py-3 bg-green-700 hover:bg-green-800 text-white font-bold rounded-lg transition duration-300">ุงูุชุงูู โ</button>
                        </div>
                    </div>
                </div>

                <!-- Step 2: ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ -->
                <div id="step2" class="step">
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                        <h3 class="text-xl font-bold text-green-800 mb-4 pb-2 border-b border-yellow-200">ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 mb-2 required-field">ุงููุนุฏู ุงูุชุฑุงููู (%)</label>
                                <input type="number" id="gpa" min="0" max="100" step="0.1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="ุฃุฏุฎู ุงููุนุฏู ูู 0 ุฅูู 100">
                                <div class="flex justify-between text-xs text-gray-500 mt-1">
                                    <span>50% ุงูุญุฏ ุงูุฃุฏูู</span>
                                    <span>100% ุงูุญุฏ ุงูุฃูุตู</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 required-field">ุฏุฑุฌุฉ ุงููุฏุฑุงุช ุงูุนุงูุฉ</label>
                                <input type="number" id="aptitude" min="0" max="100" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="ุฃุฏุฎู ุฏุฑุฌุฉ ุงููุฏุฑุงุช">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 required-field">ุฏุฑุฌุฉ ุงูุชุญุตููู</label>
                                <input type="number" id="achievement" min="0" max="100" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="ุฃุฏุฎู ุฏุฑุฌุฉ ุงูุชุญุตููู">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2">ุฏุฑุฌุฉ ุงุฎุชุจุงุฑ ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ (ุฅู ูุฌุฏุช)</label>
                                <input type="number" id="englishTest" min="0" max="100" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="ุฃุฏุฎู ุฏุฑุฌุฉ ุงุฎุชุจุงุฑ ุงููุบุฉ">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 required-field">ุณูุฉ ุงูุชุฎุฑุฌ</label>
                                <select id="graduationYear" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                    <option value="">ุงุฎุชุฑ ุณูุฉ ุงูุชุฎุฑุฌ</option>
                                    <option value="2025">2025</option>
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                    <option value="2021">2021</option>
                                    <option value="2020">2020</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2 required-field">ููุน ุงูุดูุงุฏุฉ ุงูุณุงุจูุฉ</label>
                                <select id="certificateType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                    <option value="">ุงุฎุชุฑ ููุน ุงูุดูุงุฏุฉ</option>
                                    <option value="highSchool">ุซุงูููุฉ ุนุงูุฉ</option>
                                    <option value="diploma">ุฏุจููู</option>
                                    <option value="bachelor">ุจูุงููุฑููุณ</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- ุงููุญุฑู ุงูุฐูู: ุงูุชุฎุตุตุงุช ุงููุชุงุญุฉ -->
                        <div id="availableSpecialties" class="mt-8 p-4 border border-gray-300 rounded-lg hidden">
                            <h4 class="font-bold text-green-800 mb-3">ุงูุชุฎุตุตุงุช ุงููุชุงุญุฉ ุจูุงุกู ุนูู ุจูุงูุงุชู:</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3" id="specialtiesList">
                                <!-- ุณูุชู ุชุนุจุฆุชูุง ุฏููุงููููุงู -->
                            </div>
                            <p class="text-sm text-gray-600 mt-3" id="specialtiesNote"></p>
                        </div>
                        
                        <div class="mt-8 flex justify-between">
                            <button id="backToStep1" class="px-8 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-lg transition duration-300">โ ุงูุณุงุจู</button>
                            <button id="nextToStep3" class="px-8 py-3 bg-green-700 hover:bg-green-800 text-white font-bold rounded-lg transition duration-300">ุงูุชุงูู โ</button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: ุงุฎุชูุงุฑ ุงูุชุฎุตุต ูููุน ุงูุฏุฑุงุณุฉ -->
                <div id="step3" class="step">
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                        <h3 class="text-xl font-bold text-green-800 mb-4 pb-2 border-b border-yellow-200">ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงุฎุชูุงุฑ ุงูุชุฎุตุต ูููุน ุงูุฏุฑุงุณุฉ</h3>
                        
                        <div class="mb-8">
                            <h4 class="font-bold text-gray-700 mb-3 required-field">ุงุฎุชุฑ ุงูุชุฎุตุต ุงููุทููุจ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="specialtiesSelection">
                                <!-- ุณูุชู ุชุนุจุฆุชูุง ุฏููุงููููุงู -->
                            </div>
                        </div>
                        
                        <div class="mb-8">
                            <h4 class="font-bold text-gray-700 mb-3 required-field">ููุน ุงูุฏุฑุงุณุฉ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="specialty-card p-5 rounded-lg cursor-pointer text-center" data-study="on-campus">
                                    <div class="text-4xl mb-3">๐๏ธ</div>
                                    <h4 class="font-bold text-lg mb-2">ุฏุฑุงุณุฉ ุญุถูุฑูุฉ</h4>
                                    <p class="text-gray-600 text-sm">ุงูุญุถูุฑ ุฅูู ุงูุญุฑู ุงูุฌุงูุนู</p>
                                    <div class="mt-4">
                                        <span class="inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">ูุจุงุดุฑุฉ</span>
                                    </div>
                                </div>
                                
                                <div class="specialty-card p-5 rounded-lg cursor-pointer text-center" data-study="distance">
                                    <div class="text-4xl mb-3">๐ป</div>
                                    <h4 class="font-bold text-lg mb-2">ุฏุฑุงุณุฉ ุนู ุจุนุฏ</h4>
                                    <p class="text-gray-600 text-sm">ุนู ุทุฑูู ุงูููุตุฉ ุงูุชุนููููุฉ</p>
                                    <div class="mt-4">
                                        <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">ุฃูููุงูู</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-8">
                            <h4 class="font-bold text-gray-700 mb-3 required-field">ุนุฏุฏ ุงูุณุงุนุงุช ุงููุนุชูุฏุฉ ุงููุชููุน</h4>
                            <div class="flex items-center">
                                <button id="decreaseHours" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-l-lg">-</button>
                                <input type="number" id="creditHours" min="12" max="24" value="15" class="w-32 p-3 border-t border-b border-gray-300 text-center text-lg font-bold">
                                <button id="increaseHours" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-r-lg">+</button>
                                <span class="mr-4 text-gray-700">ุณุงุนุฉ ูุนุชูุฏุฉ</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">ุงูุญุฏ ุงูุฃุฏูู: 12 ุณุงุนุฉ | ุงูุญุฏ ุงูุฃูุตู: 24 ุณุงุนุฉ</p>
                        </div>
                        
                        <div class="mt-8 flex justify-between">
                            <button id="backToStep2" class="px-8 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-lg transition duration-300">โ ุงูุณุงุจู</button>
                            <button id="nextToStep4" class="px-8 py-3 bg-green-700 hover:bg-green-800 text-white font-bold rounded-lg transition duration-300">ุงูุชุงูู โ</button>
                        </div>
                    </div>
                </div>

                <!-- Step 4: ุงููุนูููุงุช ุงูุดุฎุตูุฉ ูุงููุฑุงุฌุนุฉ -->
                <div id="step4" class="step">
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                        <h3 class="text-xl font-bold text-green-800 mb-4 pb-2 border-b border-yellow-200">ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ: ุงููุนูููุงุช ุงูุดุฎุตูุฉ ูุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ</h3>
                        
                        <div class="mb-8">
                            <h4 class="font-bold text-gray-700 mb-4">ุงููุนูููุงุช ุงูุดุฎุตูุฉ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุงูุงุณู ุงูุฑุจุงุนู</label>
                                    <input type="text" id="fullName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="ุฃุฏุฎู ุงูุงุณู ุงูุฑุจุงุนู">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุฑูู ุงููููุฉ ุงููุทููุฉ</label>
                                    <input type="text" id="nationalId" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="ุฃุฏุฎู ุฑูู ุงููููุฉ">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                                    <input type="email" id="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="example@domain.com">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุฑูู ุงูุฌูุงู</label>
                                    <input type="tel" id="phone" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="05XXXXXXXX">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 required-field">ุงูุฌูุณูุฉ</label>
                                    <select id="nationality" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                                        <option value="">ุงุฎุชุฑ ุงูุฌูุณูุฉ</option>
                                        <option value="saudi">ุณุนูุฏู</option>
                                        <option value="non-saudi">ุบูุฑ ุณุนูุฏู</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-8 p-4 border border-gray-300 rounded-lg bg-gray-50">
                            <h4 class="font-bold text-gray-700 mb-3">ููุฎุต ุงูุทูุจ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <p class="text-gray-600"><strong>ูุณุงุฑ ุงููุจูู:</strong> <span id="reviewPath">-</span></p>
                                    <p class="text-gray-600"><strong>ุงูุชุฎุตุต ุงููุฎุชุงุฑ:</strong> <span id="reviewSpecialty">-</span></p>
                                    <p class="text-gray-600"><strong>ููุน ุงูุฏุฑุงุณุฉ:</strong> <span id="reviewStudyType">-</span></p>
                                </div>
                                <div>
                                    <p class="text-gray-600"><strong>ุงููุนุฏู ุงูุชุฑุงููู:</strong> <span id="reviewGPA">-</span></p>
                                    <p class="text-gray-600"><strong>ุนุฏุฏ ุงูุณุงุนุงุช:</strong> <span id="reviewHours">-</span></p>
                                    <p class="text-gray-600"><strong>ุงูุฑุณูู ุงููุชููุนุฉ:</strong> <span id="reviewFees">-</span></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-8">
                            <div class="flex items-start">
                                <input type="checkbox" id="agreement" class="mt-1 ml-2">
                                <label for="agreement" class="text-gray-700"><span class="text-red-500">*</span> ุฃูุฑ ุจุตุญุฉ ุงูุจูุงูุงุช ุงูููุฏูุฉ ูุฃุชุนูุฏ ุจูุฑุงุกุฉ ุงูุดุฑูุท ูุงูุฃุญูุงู ูุฃูุงูู ุนูู ุงูุงูุชุฒุงู ุจูุง. ููุง ุฃุชููู ุฃู ุชูุฏูู ูุนูููุงุช ุบูุฑ ุตุญูุญุฉ ูุคุฏู ุฅูู ุฅูุบุงุก ุงููุจูู.</label>
                            </div>
                        </div>
                        
                        <div class="mt-8 flex justify-between">
                            <button id="backToStep3" class="px-8 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-lg transition duration-300">โ ุงูุณุงุจู</button>
                            <button id="submitApplication" class="px-8 py-3 bg-green-700 hover:bg-green-800 text-white font-bold rounded-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>ุฅุฑุณุงู ุงูุทูุจ</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sidebar: ุญุงุณุจุฉ ุงูุฑุณูู -->
            <div class="lg:w-1/3">
                <div class="fee-sidebar bg-white rounded-xl shadow-lg p-6 sticky top-6">
                    <h3 class="text-xl font-bold text-green-800 mb-4 pb-2 border-b border-yellow-200 text-center">ุญุงุณุจุฉ ุงูุฑุณูู ุงูุชููุงุฆูุฉ</h3>
                    
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ูุณุงุฑ ุงููุจูู:</span>
                            <span id="feePath" class="font-bold">ูู ูุญุฏุฏ ุจุนุฏ</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ููุน ุงูุฏุฑุงุณุฉ:</span>
                            <span id="feeStudyType" class="font-bold">ูู ูุญุฏุฏ ุจุนุฏ</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ุนุฏุฏ ุงูุณุงุนุงุช:</span>
                            <span id="feeHours" class="font-bold">0</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ุณุนุฑ ุงูุณุงุนุฉ:</span>
                            <span id="feeHourPrice" class="font-bold">0 ุฑูุงู</span>
                        </div>
                    </div>
                    
                    <div class="border-t border-gray-300 pt-4 mb-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ุฅุฌูุงูู ุงูุฑุณูู:</span>
                            <span id="feeTotal" class="text-2xl font-bold text-green-700">0 ุฑูุงู</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ุงูุฎุตู:</span>
                            <span id="feeDiscount" class="font-bold text-green-600">0 ุฑูุงู</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-700">ุงูุฑุณูู ุจุนุฏ ุงูุฎุตู:</span>
                            <span id="feeAfterDiscount" class="text-xl font-bold text-green-800">0 ุฑูุงู</span>
                        </div>
                    </div>
                    
                    <div id="feeNote" class="p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800 hidden">
                        <!-- ุณูุชู ุชุนุจุฆุชูุง ุฏููุงููููุงู -->
                    </div>
                    
                    <div class="mt-6 text-center">
                        <p class="text-gray-600 text-sm">ุณูุชู ุงุญุชุณุงุจ ุงูุฑุณูู ุชููุงุฆูุงู ุจูุงุกู ุนูู ุงุฎุชูุงุฑุงุชู</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white py-6 mt-8">
        <div class="container mx-auto px-4 text-center">
            <p>ุฌุงูุนุฉ ุญูุฑ ุงูุจุงุทู - ุจูุงุจุฉ ุงููุจูู ุงูุฐููุฉ ุฅุตุฏุงุฑ 2025</p>
            <p class="text-gray-400 text-sm mt-2">ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2025 | ูุธุงู ูุญุงูุงุฉ ุงููุจูู ุงููุชูุฏู</p>
        </div>
    </footer>

    <script>
        // ุจูุงูุงุช ุงูุชุฎุตุตุงุช ุงููุชุงุญุฉ
        const specialtiesData = {
            medical: [
                { id: 'medicine', name: 'ุงูุทุจ ุงูุจุดุฑู', minGPA: 95, minAptitude: 90, minAchievement: 90, availableFor: ['new'] },
                { id: 'dentistry', name: 'ุทุจ ุงูุฃุณูุงู', minGPA: 90, minAptitude: 85, minAchievement: 85, availableFor: ['new'] },
                { id: 'pharmacy', name: 'ุงูุตูุฏูุฉ', minGPA: 85, minAptitude: 80, minAchievement: 80, availableFor: ['new', 'bridging'] }
            ],
            engineering: [
                { id: 'civil', name: 'ุงูููุฏุณุฉ ุงููุฏููุฉ', minGPA: 80, minAptitude: 75, minAchievement: 75, availableFor: ['new', 'bridging'] },
                { id: 'computer', name: 'ููุฏุณุฉ ุงูุญุงุณูุจ', minGPA: 80, minAptitude: 75, minAchievement: 75, availableFor: ['new', 'bridging'] },
                { id: 'electrical', name: 'ุงูููุฏุณุฉ ุงูููุฑุจุงุฆูุฉ', minGPA: 80, minAptitude: 75, minAchievement: 75, availableFor: ['new', 'bridging'] }
            ],
            science: [
                { id: 'cs', name: 'ุนููู ุงูุญุงุณูุจ', minGPA: 75, minAptitude: 70, minAchievement: 70, availableFor: ['new', 'bridging', 'postgraduate'] },
                { id: 'math', name: 'ุงูุฑูุงุถูุงุช', minGPA: 75, minAptitude: 70, minAchievement: 70, availableFor: ['new', 'bridging'] },
                { id: 'physics', name: 'ุงูููุฒูุงุก', minGPA: 75, minAptitude: 70, minAchievement: 70, availableFor: ['new', 'bridging'] }
            ],
            business: [
                { id: 'management', name: 'ุฅุฏุงุฑุฉ ุงูุฃุนูุงู', minGPA: 70, minAptitude: 65, minAchievement: 65, availableFor: ['new', 'bridging', 'postgraduate'] },
                { id: 'accounting', name: 'ุงููุญุงุณุจุฉ', minGPA: 70, minAptitude: 65, minAchievement: 65, availableFor: ['new', 'bridging'] },
                { id: 'marketing', name: 'ุงูุชุณููู', minGPA: 70, minAptitude: 65, minAchievement: 65, availableFor: ['new', 'bridging'] }
            ],
            humanities: [
                { id: 'arabic', name: 'ุงููุบุฉ ุงูุนุฑุจูุฉ', minGPA: 70, minAptitude: 65, minAchievement: 65, availableFor: ['new', 'bridging', 'postgraduate'] },
                { id: 'english', name: 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', minGPA: 70, minAptitude: 65, minAchievement: 65, availableFor: ['new', 'bridging'] },
                { id: 'history', name: 'ุงูุชุงุฑูุฎ', minGPA: 70, minAptitude: 65, minAchievement: 65, availableFor: ['new', 'bridging'] }
            ]
        };

        // ุญุงูุฉ ุงูุชุทุจูู
        const appState = {
            currentStep: 1,
            admissionPath: null,
            selectedSpecialty: null,
            studyType: null,
            creditHours: 15,
            gpa: null,
            aptitude: null,
            achievement: null,
            englishTest: null,
            nationality: null,
            agreementChecked: false,
            calculatedFees: 0
        };

        // ุชููุฆุฉ ุงูุชุทุจูู
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            updateProgressBar();
        });

        // ุชุนุฑูู ุฌููุน ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ
        function initializeEventListeners() {
            // ุงุฎุชูุงุฑ ูุณุงุฑ ุงููุจูู
            document.querySelectorAll('.specialty-card[data-type]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.specialty-card[data-type]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    appState.admissionPath = this.getAttribute('data-type');
                    
                    // ุฅุธูุงุฑ/ุฅุฎูุงุก ุญูู ุงูุชุฌุณูุฑ
                    const bridgingFields = document.getElementById('bridgingFields');
                    if (appState.admissionPath === 'bridging') {
                        bridgingFields.classList.remove('hidden');
                    } else {
                        bridgingFields.classList.add('hidden');
                    }
                    
                    updateFeeCalculator();
                });
            });

            // ุงุฎุชูุงุฑ ููุน ุงูุฏุฑุงุณุฉ
            document.querySelectorAll('.specialty-card[data-study]').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.specialty-card[data-study]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    appState.studyType = this.getAttribute('data-study');
                    updateFeeCalculator();
                });
            });

            // ุฃุฒุฑุงุฑ ุงูุชููู ุจูู ุงูุฎุทูุงุช
            document.getElementById('nextToStep2').addEventListener('click', () => navigateToStep(2));
            document.getElementById('nextToStep3').addEventListener('click', () => navigateToStep(3));
            document.getElementById('nextToStep4').addEventListener('click', () => navigateToStep(4));
            document.getElementById('backToStep1').addEventListener('click', () => navigateToStep(1));
            document.getElementById('backToStep2').addEventListener('click', () => navigateToStep(2));
            document.getElementById('backToStep3').addEventListener('click', () => navigateToStep(3));

            // ุฒูุงุฏุฉ/ููุตุงู ุนุฏุฏ ุงูุณุงุนุงุช
            document.getElementById('increaseHours').addEventListener('click', () => {
                const hoursInput = document.getElementById('creditHours');
                let currentHours = parseInt(hoursInput.value);
                if (currentHours < 24) {
                    hoursInput.value = currentHours + 1;
                    appState.creditHours = hoursInput.value;
                    updateFeeCalculator();
                }
            });

            document.getElementById('decreaseHours').addEventListener('click', () => {
                const hoursInput = document.getElementById('creditHours');
                let currentHours = parseInt(hoursInput.value);
                if (currentHours > 12) {
                    hoursInput.value = currentHours - 1;
                    appState.creditHours = hoursInput.value;
                    updateFeeCalculator();
                }
            });

            document.getElementById('creditHours').addEventListener('change', function() {
                let hours = parseInt(this.value);
                if (hours < 12) hours = 12;
                if (hours > 24) hours = 24;
                this.value = hours;
                appState.creditHours = hours;
                updateFeeCalculator();
            });

            // ุชุญุฏูุซ ุงููุญุฑู ุงูุฐูู ุนูุฏ ุชุบููุฑ ุงูุฏุฑุฌุงุช
            document.getElementById('gpa').addEventListener('input', updateAvailableSpecialties);
            document.getElementById('aptitude').addEventListener('input', updateAvailableSpecialties);
            document.getElementById('achievement').addEventListener('input', updateAvailableSpecialties);

            // ุชุญุฏูุซ ุงุชูุงููุฉ ุงูุดุฑูุท
            document.getElementById('agreement').addEventListener('change', function() {
                appState.agreementChecked = this.checked;
                document.getElementById('submitApplication').disabled = !this.checked;
            });

            // ุฅุฑุณุงู ุงูุทูุจ
            document.getElementById('submitApplication').addEventListener('click', submitApplication);

            // ุชุญุฏูุซ ุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ ุนูุฏ ุชุบููุฑ ุงูุจูุงูุงุช
            document.getElementById('nationality').addEventListener('change', updateReviewSection);
            document.getElementById('fullName').addEventListener('input', updateReviewSection);
            document.getElementById('nationalId').addEventListener('input', updateReviewSection);
            document.getElementById('email').addEventListener('input', updateReviewSection);
            document.getElementById('phone').addEventListener('input', updateReviewSection);
        }

        // ุงูุชููู ุจูู ุงูุฎุทูุงุช
        function navigateToStep(step) {
            // ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุงูุชูุงู
            if (step > appState.currentStep) {
                if (!validateCurrentStep()) {
                    return;
                }
            }

            // ุชุญุฏูุซ ุญุงูุฉ ุงูุชุทุจูู
            appState.currentStep = step;
            
            // ุฅุฎูุงุก ุฌููุน ุงูุฎุทูุงุช
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            
            // ุฅุธูุงุฑ ุงูุฎุทูุฉ ุงูุญุงููุฉ
            document.getElementById(`step${step}`).classList.add('active');
            
            // ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
            updateProgressBar();
            
            // ุชุญุฏูุซ ุฃุฑูุงู ุงูุชูุฏู
            updateProgressNumbers(step);
            
            // ุชุญุฏูุซ ุงููุญุฑู ุงูุฐูู ูู ุงูุฎุทูุฉ 2
            if (step === 2) {
                updateAvailableSpecialties();
            }
            
            // ุชุญุฏูุซ ุงุฎุชูุงุฑ ุงูุชุฎุตุต ูู ุงูุฎุทูุฉ 3
            if (step === 3) {
                populateSpecialtiesSelection();
            }
            
            // ุชุญุฏูุซ ูุณู ุงููุฑุงุฌุนุฉ ูู ุงูุฎุทูุฉ 4
            if (step === 4) {
                updateReviewSection();
            }
            
            // ุชุญุฏูุซ ุญุงุณุจุฉ ุงูุฑุณูู
            updateFeeCalculator();
        }

        // ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
        function updateProgressBar() {
            const progressPercentage = (appState.currentStep / 4) * 100;
            document.getElementById('progressFill').style.width = `${progressPercentage}%`;
        }

        // ุชุญุฏูุซ ุฃุฑูุงู ุงูุฎุทูุงุช
        function updateProgressNumbers(currentStep) {
            const steps = document.querySelectorAll('.text-center.w-1\/4 .w-10');
            steps.forEach((step, index) => {
                const stepNumber = index + 1;
                if (stepNumber < currentStep) {
                    step.classList.remove('bg-gray-300', 'text-gray-700');
                    step.classList.add('bg-green-700', 'text-white');
                } else if (stepNumber === currentStep) {
                    step.classList.remove('bg-gray-300', 'text-gray-700');
                    step.classList.add('bg-green-700', 'text-white');
                } else {
                    step.classList.remove('bg-green-700', 'text-white');
                    step.classList.add('bg-gray-300', 'text-gray-700');
                }
            });
        }

        // ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู ุงูุฎุทูุฉ ุงูุญุงููุฉ
        function validateCurrentStep() {
            const currentStep = appState.currentStep;
            
            if (currentStep === 1) {
                if (!appState.admissionPath) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ูุณุงุฑ ุบูุฑ ูุญุฏุฏ',
                        text: 'ูุฑุฌู ุงุฎุชูุงุฑ ูุณุงุฑ ุงููุจูู ุงูููุงุณุจ ูู',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                // ุงูุชุญูู ูู ุญูู ุงูุชุฌุณูุฑ ุฅุฐุง ูุงู ูุณุงุฑ ุงูุชุฌุณูุฑ
                if (appState.admissionPath === 'bridging') {
                    const diplomaMajor = document.getElementById('diplomaMajor').value;
                    const diplomaCertificate = document.getElementById('diplomaCertificate').files.length;
                    
                    if (!diplomaMajor || diplomaCertificate === 0) {
                        Swal.fire({
                            icon: 'warning',
                            title: 'ุจูุงูุงุช ูุงูุตุฉ',
                            text: 'ูุฑุฌู ุฅููุงู ูุนูููุงุช ุงูุชุฌุณูุฑ ุงููุทููุจุฉ',
                            confirmButtonText: 'ุญุณููุง',
                            confirmButtonColor: '#006837'
                        });
                        return false;
                    }
                }
            }
            
            if (currentStep === 2) {
                const gpa = parseFloat(document.getElementById('gpa').value);
                const aptitude = parseFloat(document.getElementById('aptitude').value);
                const achievement = parseFloat(document.getElementById('achievement').value);
                const graduationYear = document.getElementById('graduationYear').value;
                const certificateType = document.getElementById('certificateType').value;
                
                if (!gpa || gpa < 50 || gpa > 100) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ูุนุฏู ุชุฑุงููู ุบูุฑ ุตุงูุญ',
                        text: 'ูุฑุฌู ุฅุฏุฎุงู ูุนุฏู ุชุฑุงููู ุตุญูุญ ุจูู 50 ู 100',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                if (!aptitude || aptitude < 0 || aptitude > 100) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ุฏุฑุฌุฉ ูุฏุฑุงุช ุบูุฑ ุตุงูุญุฉ',
                        text: 'ูุฑุฌู ุฅุฏุฎุงู ุฏุฑุฌุฉ ูุฏุฑุงุช ุตุญูุญุฉ ุจูู 0 ู 100',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                if (!achievement || achievement < 0 || achievement > 100) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ุฏุฑุฌุฉ ุชุญุตููู ุบูุฑ ุตุงูุญุฉ',
                        text: 'ูุฑุฌู ุฅุฏุฎุงู ุฏุฑุฌุฉ ุชุญุตููู ุตุญูุญุฉ ุจูู 0 ู 100',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                if (!graduationYear) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ุณูุฉ ุงูุชุบูุฑ ุบูุฑ ูุญุฏุฏุฉ',
                        text: 'ูุฑุฌู ุงุฎุชูุงุฑ ุณูุฉ ุงูุชุฎุฑุฌ',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                if (!certificateType) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ููุน ุงูุดูุงุฏุฉ ุบูุฑ ูุญุฏุฏ',
                        text: 'ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงูุดูุงุฏุฉ ุงูุณุงุจูุฉ',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                // ุญูุธ ุงูุจูุงูุงุช ูู ุญุงูุฉ ุงูุชุทุจูู
                appState.gpa = gpa;
                appState.aptitude = aptitude;
                appState.achievement = achievement;
                appState.englishTest = document.getElementById('englishTest').value || null;
            }
            
            if (currentStep === 3) {
                if (!appState.selectedSpecialty) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ุชุฎุตุต ุบูุฑ ูุญุฏุฏ',
                        text: 'ูุฑุฌู ุงุฎุชูุงุฑ ุงูุชุฎุตุต ุงูููุงุณุจ ูู',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
                
                if (!appState.studyType) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'ููุน ุงูุฏุฑุงุณุฉ ุบูุฑ ูุญุฏุฏ',
                        text: 'ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงูุฏุฑุงุณุฉ (ุญุถูุฑู/ุนู ุจุนุฏ)',
                        confirmButtonText: 'ุญุณููุง',
                        confirmButtonColor: '#006837'
                    });
                    return false;
                }
            }
            
            return true;
        }

        // ุชุญุฏูุซ ุงููุญุฑู ุงูุฐูู: ุงูุชุฎุตุตุงุช ุงููุชุงุญุฉ
        function updateAvailableSpecialties() {
            const gpa = parseFloat(document.getElementById('gpa').value);
            const aptitude = parseFloat(document.getElementById('aptitude').value);
            const achievement = parseFloat(document.getElementById('achievement').value);
            
            if (!gpa || !aptitude || !achievement) {
                document.getElementById('availableSpecialties').classList.add('hidden');
                return;
            }
            
            const specialtiesList = document.getElementById('specialtiesList');
            specialtiesList.innerHTML = '';
            
            let availableCount = 0;
            
            // ุชุตููุฉ ุงูุชุฎุตุตุงุช ุญุณุจ ุงูุดุฑูุท
            for (const category in specialtiesData) {
                specialtiesData[category].forEach(specialty => {
                    // ุงูุชุญูู ูู ุชุทุงุจู ุงููุณุงุฑ
                    if (!specialty.availableFor.includes(appState.admissionPath)) {
                        return;
                    }
                    
                    // ุงูุชุญูู ูู ุงููุนุฏู ููุชุฎุตุตุงุช ุงูุทุจูุฉ
                    if (category === 'medical' && gpa < 80) {
                        return;
                    }
                    
                    // ุงูุชุญูู ูู ุงูุดุฑูุท ุงูุนุงูุฉ
                    if (gpa >= specialty.minGPA && aptitude >= specialty.minAptitude && achievement >= specialty.minAchievement) {
                        const specialtyCard = document.createElement('div');
                        specialtyCard.className = 'p-3 border border-gray-300 rounded-lg bg-green-50';
                        specialtyCard.innerHTML = `
                            <h5 class="font-bold text-green-800">${specialty.name}</h5>
                            <div class="flex justify-between text-sm text-gray-600 mt-1">
                                <span>ุงูุญุฏ ุงูุฃุฏูู: ${specialty.minGPA}%</span>
                                <span class="text-green-700 font-bold">ูุชุงุญ</span>
                            </div>
                        `;
                        specialtiesList.appendChild(specialtyCard);
                        availableCount++;
                    }
                });
            }
            
            // ุฅุธูุงุฑ ุฃู ุฅุฎูุงุก ูุณู ุงูุชุฎุตุตุงุช ุงููุชุงุญุฉ
            const availableSpecialties = document.getElementById('availableSpecialties');
            if (availableCount > 0) {
                availableSpecialties.classList.remove('hidden');
                document.getElementById('specialtiesNote').textContent = `ููุงู ${availableCount} ุชุฎุตุต(ุงุช) ูุชุงุญ(ุฉ) ูู ุจูุงุกู ุนูู ุจูุงูุงุชู.`;
            } else {
                availableSpecialties.classList.remove('hidden');
                document.getElementById('specialtiesNote').textContent = 'ูุง ุชูุฌุฏ ุชุฎุตุตุงุช ูุชุงุญุฉ ูู ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงููุฏุฎูุฉ. ุญุงูู ุชุญุณูู ุฏุฑุฌุงุชู ุฃู ุงุฎุชูุงุฑ ูุณุงุฑ ุขุฎุฑ.';
                document.getElementById('specialtiesNote').className = 'text-sm text-red-600 mt-3';
            }
        }

        // ุชุนุจุฆุฉ ุงุฎุชูุงุฑุงุช ุงูุชุฎุตุต ูู ุงูุฎุทูุฉ 3
        function populateSpecialtiesSelection() {
            const gpa = appState.gpa || 0;
            const aptitude = appState.aptitude || 0;
            const achievement = appState.achievement || 0;
            const specialtiesSelection = document.getElementById('specialtiesSelection');
            specialtiesSelection.innerHTML = '';
            
            let allSpecialties = [];
            for (const category in specialtiesData) {
                allSpecialties = allSpecialties.concat(specialtiesData[category]);
            }
            
            // ุชุตููุฉ ุงูุชุฎุตุตุงุช ุญุณุจ ุงููุณุงุฑ ูุงูุดุฑูุท
            const filteredSpecialties = allSpecialties.filter(specialty => {
                // ุงูุชุญูู ูู ุชุทุงุจู ุงููุณุงุฑ
                if (!specialty.availableFor.includes(appState.admissionPath)) {
                    return false;
                }
                
                // ุงูุชุญูู ูู ุงููุนุฏู ููุชุฎุตุตุงุช ุงูุทุจูุฉ
                if (specialty.id === 'medicine' || specialty.id === 'dentistry') {
                    if (gpa < 80) return false;
                }
                
                // ุงูุชุญูู ูู ุงูุดุฑูุท ุงูุนุงูุฉ
                if (gpa >= specialty.minGPA && aptitude >= specialty.minAptitude && achievement >= specialty.minAchievement) {
                    return true;
                }
                
                return false;
            });
            
            if (filteredSpecialties.length === 0) {
                specialtiesSelection.innerHTML = '<div class="col-span-2 p-4 text-center bg-red-50 border border-red-200 rounded-lg"><p class="text-red-600">ูุง ุชูุฌุฏ ุชุฎุตุตุงุช ูุชุงุญุฉ ุจูุงุกู ุนูู ุจูุงูุงุชู. ูุฑุฌู ุงูุนูุฏุฉ ุฅูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ ูุชุนุฏูู ุจูุงูุงุชู.</p></div>';
                return;
            }
            
            // ุนุฑุถ ุงูุชุฎุตุตุงุช ุงููุชุงุญุฉ
            filteredSpecialties.forEach(specialty => {
                const specialtyCard = document.createElement('div');
                specialtyCard.className = 'specialty-card p-4 rounded-lg cursor-pointer';
                specialtyCard.dataset.id = specialty.id;
                specialtyCard.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div>
                            <h5 class="font-bold text-gray-800">${specialty.name}</h5>
                            <p class="text-sm text-gray-600 mt-1">ุงูุญุฏ ุงูุฃุฏูู: ${specialty.minGPA}% ูุนุฏูุ ${specialty.minAptitude}% ูุฏุฑุงุชุ ${specialty.minAchievement}% ุชุญุตููู</p>
                        </div>
                        <div class="text-green-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                    </div>
                `;
                
                specialtyCard.addEventListener('click', function() {
                    document.querySelectorAll('.specialty-card[data-id]').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    appState.selectedSpecialty = specialty;
                    updateFeeCalculator();
                });
                
                specialtiesSelection.appendChild(specialtyCard);
            });
        }

        // ุชุญุฏูุซ ุญุงุณุจุฉ ุงูุฑุณูู
        function updateFeeCalculator() {
            const feePath = document.getElementById('feePath');
            const feeStudyType = document.getElementById('feeStudyType');
            const feeHours = document.getElementById('feeHours');
            const feeHourPrice = document.getElementById('feeHourPrice');
            const feeTotal = document.getElementById('feeTotal');
            const feeDiscount = document.getElementById('feeDiscount');
            const feeAfterDiscount = document.getElementById('feeAfterDiscount');
            const feeNote = document.getElementById('feeNote');
            
            // ุชุญุฏูุซ ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ
            if (appState.admissionPath) {
                const pathNames = {
                    'new': 'ุทุงูุจ ุฌุฏูุฏ (ุจูุงููุฑููุณ)',
                    'bridging': 'ุชุฌุณูุฑ (ุฏุจููู ุฅูู ุจูุงููุฑููุณ)',
                    'postgraduate': 'ุฏุฑุงุณุงุช ุนููุง'
                };
                feePath.textContent = pathNames[appState.admissionPath];
            } else {
                feePath.textContent = 'ูู ูุญุฏุฏ ุจุนุฏ';
            }
            
            if (appState.studyType) {
                const studyTypeNames = {
                    'on-campus': 'ุญุถูุฑูุฉ',
                    'distance': 'ุนู ุจุนุฏ'
                };
                feeStudyType.textContent = studyTypeNames[appState.studyType];
            } else {
                feeStudyType.textContent = 'ูู ูุญุฏุฏ ุจุนุฏ';
            }
            
            feeHours.textContent = appState.creditHours;
            
            // ุญุณุงุจ ุงูุฑุณูู
            let hourPrice = 0;
            let discount = 0;
            let note = '';
            
            if (appState.studyType === 'on-campus') {
                hourPrice = 2500;
            } else if (appState.studyType === 'distance') {
                hourPrice = 1500;
                discount = 0.4; // ุฎุตู 40% ููุฏุฑุงุณุฉ ุนู ุจุนุฏ
            }
            
            const totalBeforeDiscount = hourPrice * appState.creditHours;
            const discountAmount = totalBeforeDiscount * discount;
            const finalAmount = totalBeforeDiscount - discountAmount;
            
            // ุชุญุฏูุซ ุงูููู ูู ุงููุงุฌูุฉ
            feeHourPrice.textContent = `${hourPrice.toLocaleString()} ุฑูุงู`;
            feeTotal.textContent = `${totalBeforeDiscount.toLocaleString()} ุฑูุงู`;
            feeDiscount.textContent = `${discountAmount.toLocaleString()} ุฑูุงู`;
            feeAfterDiscount.textContent = `${finalAmount.toLocaleString()} ุฑูุงู`;
            
            // ุฅุถุงูุฉ ููุงุญุธุงุช ุฎุงุตุฉ
            feeNote.classList.add('hidden');
            
            // ุงูุชุญูู ูู ุฏุฑุงุณุฉ ุณุนูุฏู ูู ุจุฑูุงูุฌ ุจูุงููุฑููุณ ุญุถูุฑู
            const nationality = document.getElementById('nationality') ? document.getElementById('nationality').value : null;
            if (nationality === 'saudi' && appState.admissionPath === 'new' && appState.studyType === 'on-campus') {
                feeAfterDiscount.textContent = '0 ุฑูุงู';
                feeNote.innerHTML = '<strong>ููุงุญุธุฉ:</strong> ุงูุฏุฑุงุณุฉ ูุฏุนููุฉ ุญููููุงู ููุทูุงุจ ุงูุณุนูุฏููู ูู ุจุฑุงูุฌ ุงูุจูุงููุฑููุณ ุงูุญุถูุฑูุฉ.';
                feeNote.classList.remove('hidden');
                feeNote.classList.remove('bg-yellow-50', 'text-yellow-800', 'border-yellow-200');
                feeNote.classList.add('bg-green-50', 'text-green-800', 'border-green-200');
                appState.calculatedFees = 0;
            } else if (appState.studyType === 'distance') {
                feeNote.innerHTML = '<strong>ููุงุญุธุฉ:</strong> ุฎุตู 40% ูุทุจู ุนูู ุงูุฏุฑุงุณุฉ ุนู ุจุนุฏ.';
                feeNote.classList.remove('hidden');
                feeNote.classList.remove('bg-green-50', 'text-green-800', 'border-green-200');
                feeNote.classList.add('bg-yellow-50', 'text-yellow-800', 'border-yellow-200');
                appState.calculatedFees = finalAmount;
            } else {
                appState.calculatedFees = finalAmount;
            }
        }

        // ุชุญุฏูุซ ูุณู ุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ
        function updateReviewSection() {
            // ูุณุงุฑ ุงููุจูู
            const pathNames = {
                'new': 'ุทุงูุจ ุฌุฏูุฏ (ุจูุงููุฑููุณ)',
                'bridging': 'ุชุฌุณูุฑ (ุฏุจููู ุฅูู ุจูุงููุฑููุณ)',
                'postgraduate': 'ุฏุฑุงุณุงุช ุนููุง'
            };
            document.getElementById('reviewPath').textContent = appState.admissionPath ? pathNames[appState.admissionPath] : '-';
            
            // ุงูุชุฎุตุต
            document.getElementById('reviewSpecialty').textContent = appState.selectedSpecialty ? appState.selectedSpecialty.name : '-';
            
            // ููุน ุงูุฏุฑุงุณุฉ
            const studyTypeNames = {
                'on-campus': 'ุญุถูุฑูุฉ',
                'distance': 'ุนู ุจุนุฏ'
            };
            document.getElementById('reviewStudyType').textContent = appState.studyType ? studyTypeNames[appState.studyType] : '-';
            
            // ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ
            document.getElementById('reviewGPA').textContent = appState.gpa ? `${appState.gpa}%` : '-';
            document.getElementById('reviewHours').textContent = appState.creditHours ? `${appState.creditHours} ุณุงุนุฉ` : '-';
            
            // ุงูุฑุณูู
            document.getElementById('reviewFees').textContent = `${appState.calculatedFees.toLocaleString()} ุฑูุงู`;
        }

        // ุฅุฑุณุงู ุงูุทูุจ
        function submitApplication() {
            // ุงูุชุญูู ุงูููุงุฆู ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช
            if (!validateFinalSubmission()) {
                return;
            }
            
            // ุชุนุทูู ุฒุฑ ุงูุฅุฑุณุงู
            const submitBtn = document.getElementById('submitApplication');
            submitBtn.disabled = true;
            submitBtn.innerHTML = 'ุฌุงุฑู ุงูุฅุฑุณุงู... <span class="animate-spin ml-2">โณ</span>';
            
            // ูุญุงูุงุฉ ุงูุชุธุงุฑ ุงูุฅุฑุณุงู
            setTimeout(() => {
                // ุชูููุฏ ุฑูู ูุฑุฌุนู ุนุดูุงุฆู
                const refNumber = 'UOH-2025-' + Math.floor(1000 + Math.random() * 9000);
                
                // ุฅุธูุงุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
                Swal.fire({
                    title: 'ุชู ุชูุฏูู ุทูุจู ุจูุฌุงุญ!',
                    html: `
                        <div class="text-center">
                            <div class="text-6xl mb-4">๐</div>
                            <p class="text-lg mb-4">ุดูุฑุงู ููุ ุชู ุชูุฏูู ุทูุจู ุจูุฌุงุญ.</p>
                            <p class="text-xl font-bold text-green-700 mb-6">ุฑููู ุงููุฑุฌุนู ูู: <br>${refNumber}</p>
                            <p class="text-gray-600">ุณูุชู ุงูุชูุงุตู ุจู ูู ูุจู ููุธู ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ ูุงุณุชููุงู ุจููุฉ ุงูุฅุฌุฑุงุกุงุช ูุณุฏุงุฏ ุฑุณูู ุงูููุฑุฑ ูุชุฃููุฏ ุงููุจูู.</p>
                        </div>
                    `,
                    icon: 'success',
                    confirmButtonText: 'ุญุณููุง',
                    confirmButtonColor: '#006837',
                    allowOutsideClick: false
                }).then(() => {
                    // ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐุฌ (ุงุฎุชูุงุฑู)
                    // location.reload();
                });
            }, 1500);
        }

        // ุงูุชุญูู ุงูููุงุฆู ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช ูุจู ุงูุฅุฑุณุงู
        function validateFinalSubmission() {
            // ุงูุชุญูู ูู ุงููุนูููุงุช ุงูุดุฎุตูุฉ
            const fullName = document.getElementById('fullName').value;
            const nationalId = document.getElementById('nationalId').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const nationality = document.getElementById('nationality').value;
            
            if (!fullName || !nationalId || !email || !phone || !nationality) {
                Swal.fire({
                    icon: 'warning',
                    title: 'ุจูุงูุงุช ูุงูุตุฉ',
                    text: 'ูุฑุฌู ุฅููุงู ุฌููุน ุงููุนูููุงุช ุงูุดุฎุตูุฉ ุงููุทููุจุฉ',
                    confirmButtonText: 'ุญุณููุง',
                    confirmButtonColor: '#006837'
                });
                return false;
            }
            
            // ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                Swal.fire({
                    icon: 'warning',
                    title: 'ุจุฑูุฏ ุฅููุชุฑููู ุบูุฑ ุตุงูุญ',
                    text: 'ูุฑุฌู ุฅุฏุฎุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ',
                    confirmButtonText: 'ุญุณููุง',
                    confirmButtonColor: '#006837'
                });
                return false;
            }
            
            // ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงูุฌูุงู
            const phoneRegex = /^05\d{8}$/;
            if (!phoneRegex.test(phone)) {
                Swal.fire({
                    icon: 'warning',
                    title: 'ุฑูู ุฌูุงู ุบูุฑ ุตุงูุญ',
                    text: 'ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุฌูุงู ุณุนูุฏู ุตุญูุญ ูุจุฏุฃ ุจู 05 ููุญุชูู ุนูู 10 ุฃุฑูุงู',
                    confirmButtonText: 'ุญุณููุง',
                    confirmButtonColor: '#006837'
                });
                return false;
            }
            
            // ุงูุชุญูู ูู ุงุชูุงููุฉ ุงูุดุฑูุท
            if (!appState.agreementChecked) {
                Swal.fire({
                    icon: 'warning',
                    title: 'ููุงููุฉ ูุทููุจุฉ',
                    text: 'ูุฑุฌู ุงูููุงููุฉ ุนูู ุงูุดุฑูุท ูุงูุฃุญูุงู',
                    confirmButtonText: 'ุญุณููุง',
                    confirmButtonColor: '#006837'
                });
                return false;
            }
            
            return true;
        }
    </script>
</body>
  </html>
